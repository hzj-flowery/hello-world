--buff_tag

-- key
local __key_map = {
  id = 1,    --效果id-int 

}

-- data
local buff_tag = {
    _data = {
        [1] = {2101,},
        [2] = {2102,},
        [3] = {2103,},
        [4] = {2104,},
        [5] = {2105,},
        [6] = {2106,},
        [7] = {2107,},
        [8] = {2108,},
        [9] = {2109,},
        [10] = {2110,},
        [11] = {2111,},
        [12] = {2112,},
        [13] = {2113,},
        [14] = {2114,},
        [15] = {2115,},
        [16] = {2116,},
        [17] = {2117,},
        [18] = {2118,},
        [19] = {2119,},
        [20] = {2120,},
        [21] = {2121,},
        [22] = {2201,},
        [23] = {2202,},
        [24] = {2203,},
        [25] = {2204,},
        [26] = {2205,},
        [27] = {2301,},
        [28] = {2302,},
        [29] = {2303,},
        [30] = {2304,},
        [31] = {2306,},
        [32] = {2307,},
        [33] = {2308,},
        [34] = {2309,},
        [35] = {2310,},
        [36] = {2311,},
        [37] = {2313,},
        [38] = {2315,},
        [39] = {2318,},
        [40] = {2330,},
        [41] = {2332,},
        [42] = {2334,},
        [43] = {2335,},
        [44] = {2336,},
        [45] = {2337,},
        [46] = {2338,},
        [47] = {2339,},
        [48] = {2340,},
        [49] = {2341,},
        [50] = {2343,},
        [51] = {2344,},
        [52] = {2345,},
        [53] = {2346,},
        [54] = {2347,},
        [55] = {2348,},
        [56] = {2349,},
        [57] = {2350,},
        [58] = {2351,},
        [59] = {2352,},
        [60] = {2353,},
        [61] = {2354,},
        [62] = {2355,},
        [63] = {2356,},
        [64] = {2357,},
        [65] = {2358,},
        [66] = {2359,},
        [67] = {2360,},
        [68] = {2361,},
        [69] = {2362,},
        [70] = {2363,},
        [71] = {2364,},
        [72] = {2365,},
        [73] = {2366,},
        [74] = {2367,},
        [75] = {2368,},
        [76] = {2369,},
        [77] = {2370,},
        [78] = {2371,},
        [79] = {2372,},
        [80] = {2373,},
        [81] = {2374,},
        [82] = {2375,},
        [83] = {2376,},
        [84] = {2377,},
        [85] = {2378,},
        [86] = {2379,},
        [87] = {2380,},
        [88] = {2381,},
        [89] = {2382,},
        [90] = {2383,},
        [91] = {2384,},
        [92] = {2385,},
        [93] = {2386,},
        [94] = {2387,},
        [95] = {2388,},
        [96] = {2389,},
        [97] = {2390,},
        [98] = {2391,},
        [99] = {2392,},
        [100] = {2393,},
        [101] = {2394,},
        [102] = {2395,},
        [103] = {2396,},
        [104] = {2397,},
        [105] = {2398,},
        [106] = {2399,},
        [107] = {2400,},
        [108] = {2401,},
        [109] = {2402,},
        [110] = {2403,},
        [111] = {2404,},
        [112] = {2405,},
        [113] = {2406,},
        [114] = {2407,},
        [115] = {2408,},
        [116] = {2409,},
        [117] = {2410,},
        [118] = {2411,},
        [119] = {2412,},
        [120] = {2413,},
        [121] = {2414,},
        [122] = {2415,},
        [123] = {2416,},
        [124] = {2417,},
        [125] = {2418,},
        [126] = {2419,},
        [127] = {2420,},
        [128] = {2421,},
        [129] = {2422,},
        [130] = {2423,},
        [131] = {2424,},
        [132] = {2425,},
        [133] = {2426,},
        [134] = {2427,},
        [135] = {2428,},
        [136] = {2429,},
        [137] = {2430,},
        [138] = {2432,},
        [139] = {2433,},
        [140] = {2434,},
        [141] = {2435,},
        [142] = {2436,},
        [143] = {2437,},
        [144] = {2438,},
        [145] = {2439,},
        [146] = {2440,},
        [147] = {2441,},
        [148] = {2443,},
        [149] = {2444,},
        [150] = {2445,},
        [151] = {2446,},
        [152] = {2447,},
        [153] = {2448,},
        [154] = {2449,},
        [155] = {2450,},
        [156] = {2451,},
        [157] = {2453,},
        [158] = {2454,},
        [159] = {2455,},
        [160] = {3001,},
        [161] = {3002,},
        [162] = {3003,},
        [163] = {3004,},
        [164] = {3005,},
        [165] = {2456,},
        [166] = {2457,},
        [167] = {2458,},
        [168] = {2459,},
        [169] = {2460,},
        [170] = {2461,},
        [171] = {2462,},
        [172] = {2463,},
        [173] = {2464,},
        [174] = {2465,},
        [175] = {2466,},
        [176] = {2467,},
        [177] = {2468,},
        [178] = {2469,},
        [179] = {2470,},
        [180] = {2471,},
        [181] = {2472,},
        [182] = {2473,},
        [183] = {2474,},
        [184] = {2475,},
        [185] = {2476,},
        [186] = {2477,},
        [187] = {2478,},
        [188] = {2479,},
        [189] = {2480,},
        [190] = {2481,},
        [191] = {2482,},
        [192] = {2483,},
        [193] = {2484,},
        [194] = {2485,},
        [195] = {2486,},
        [196] = {2487,},
        [197] = {2488,},
        [198] = {2489,},
        [199] = {2490,},
        [200] = {2491,},
        [201] = {2492,},
        [202] = {2493,},
        [203] = {2494,},
        [204] = {2495,},
        [205] = {2496,},
        [206] = {2497,},
        [207] = {2498,},
        [208] = {2499,},
        [209] = {2500,},
    }
}

-- index
local __index_id = {
    [2101] = 1,
    [2102] = 2,
    [2103] = 3,
    [2104] = 4,
    [2105] = 5,
    [2106] = 6,
    [2107] = 7,
    [2108] = 8,
    [2109] = 9,
    [2110] = 10,
    [2111] = 11,
    [2112] = 12,
    [2113] = 13,
    [2114] = 14,
    [2115] = 15,
    [2116] = 16,
    [2117] = 17,
    [2118] = 18,
    [2119] = 19,
    [2120] = 20,
    [2121] = 21,
    [2201] = 22,
    [2202] = 23,
    [2203] = 24,
    [2204] = 25,
    [2205] = 26,
    [2301] = 27,
    [2302] = 28,
    [2303] = 29,
    [2304] = 30,
    [2306] = 31,
    [2307] = 32,
    [2308] = 33,
    [2309] = 34,
    [2310] = 35,
    [2311] = 36,
    [2313] = 37,
    [2315] = 38,
    [2318] = 39,
    [2330] = 40,
    [2332] = 41,
    [2334] = 42,
    [2335] = 43,
    [2336] = 44,
    [2337] = 45,
    [2338] = 46,
    [2339] = 47,
    [2340] = 48,
    [2341] = 49,
    [2343] = 50,
    [2344] = 51,
    [2345] = 52,
    [2346] = 53,
    [2347] = 54,
    [2348] = 55,
    [2349] = 56,
    [2350] = 57,
    [2351] = 58,
    [2352] = 59,
    [2353] = 60,
    [2354] = 61,
    [2355] = 62,
    [2356] = 63,
    [2357] = 64,
    [2358] = 65,
    [2359] = 66,
    [2360] = 67,
    [2361] = 68,
    [2362] = 69,
    [2363] = 70,
    [2364] = 71,
    [2365] = 72,
    [2366] = 73,
    [2367] = 74,
    [2368] = 75,
    [2369] = 76,
    [2370] = 77,
    [2371] = 78,
    [2372] = 79,
    [2373] = 80,
    [2374] = 81,
    [2375] = 82,
    [2376] = 83,
    [2377] = 84,
    [2378] = 85,
    [2379] = 86,
    [2380] = 87,
    [2381] = 88,
    [2382] = 89,
    [2383] = 90,
    [2384] = 91,
    [2385] = 92,
    [2386] = 93,
    [2387] = 94,
    [2388] = 95,
    [2389] = 96,
    [2390] = 97,
    [2391] = 98,
    [2392] = 99,
    [2393] = 100,
    [2394] = 101,
    [2395] = 102,
    [2396] = 103,
    [2397] = 104,
    [2398] = 105,
    [2399] = 106,
    [2400] = 107,
    [2401] = 108,
    [2402] = 109,
    [2403] = 110,
    [2404] = 111,
    [2405] = 112,
    [2406] = 113,
    [2407] = 114,
    [2408] = 115,
    [2409] = 116,
    [2410] = 117,
    [2411] = 118,
    [2412] = 119,
    [2413] = 120,
    [2414] = 121,
    [2415] = 122,
    [2416] = 123,
    [2417] = 124,
    [2418] = 125,
    [2419] = 126,
    [2420] = 127,
    [2421] = 128,
    [2422] = 129,
    [2423] = 130,
    [2424] = 131,
    [2425] = 132,
    [2426] = 133,
    [2427] = 134,
    [2428] = 135,
    [2429] = 136,
    [2430] = 137,
    [2432] = 138,
    [2433] = 139,
    [2434] = 140,
    [2435] = 141,
    [2436] = 142,
    [2437] = 143,
    [2438] = 144,
    [2439] = 145,
    [2440] = 146,
    [2441] = 147,
    [2443] = 148,
    [2444] = 149,
    [2445] = 150,
    [2446] = 151,
    [2447] = 152,
    [2448] = 153,
    [2449] = 154,
    [2450] = 155,
    [2451] = 156,
    [2453] = 157,
    [2454] = 158,
    [2455] = 159,
    [2456] = 165,
    [2457] = 166,
    [2458] = 167,
    [2459] = 168,
    [2460] = 169,
    [2461] = 170,
    [2462] = 171,
    [2463] = 172,
    [2464] = 173,
    [2465] = 174,
    [2466] = 175,
    [2467] = 176,
    [2468] = 177,
    [2469] = 178,
    [2470] = 179,
    [2471] = 180,
    [2472] = 181,
    [2473] = 182,
    [2474] = 183,
    [2475] = 184,
    [2476] = 185,
    [2477] = 186,
    [2478] = 187,
    [2479] = 188,
    [2480] = 189,
    [2481] = 190,
    [2482] = 191,
    [2483] = 192,
    [2484] = 193,
    [2485] = 194,
    [2486] = 195,
    [2487] = 196,
    [2488] = 197,
    [2489] = 198,
    [2490] = 199,
    [2491] = 200,
    [2492] = 201,
    [2493] = 202,
    [2494] = 203,
    [2495] = 204,
    [2496] = 205,
    [2497] = 206,
    [2498] = 207,
    [2499] = 208,
    [2500] = 209,
    [3001] = 160,
    [3002] = 161,
    [3003] = 162,
    [3004] = 163,
    [3005] = 164,

}

-- metatable
local mt = { 
    __index = function(t, k) 
        assert(__key_map[k], "cannot find " .. k .. " in buff_tag")
        return t._raw[__key_map[k]]
    end
}

-- 
function buff_tag.length()
    return #buff_tag._data
end

-- 
function buff_tag.hasKey(k)
    if __key_map[k] == nil then
        return false
    else
        return true
    end
end

--
function buff_tag.indexOf(index)
    if index == nil or not buff_tag._data[index] then
        return nil
    end

    return setmetatable({_raw = buff_tag._data[index]}, mt)
end

--
function buff_tag.get(id)
    
    return buff_tag.indexOf(__index_id[id])
        
end

--
function buff_tag.set(id, tkey, nvalue)
    local record = buff_tag.get(id)
    if record then
        local keyIndex = __key_map[tkey]
        if keyIndex then
            record._raw[keyIndex] = nvalue
        end
    end
end

--
function buff_tag.index()
    return __index_id
end

return buff_tag