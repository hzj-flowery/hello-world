--price

-- key
local __key_map = {
  id = 1,    --价格组id-int 
  Excluded = 2,    --功能-string 
  time = 3,    --次数-int 
  price = 4,    --价格-int 

}

-- data
local price = {
    _data = {
        [1] = {1,"商店购买体力丹",1,20,},
        [2] = {1,"商店购买体力丹",2,20,},
        [3] = {1,"商店购买体力丹",3,20,},
        [4] = {1,"商店购买体力丹",4,30,},
        [5] = {1,"商店购买体力丹",5,30,},
        [6] = {1,"商店购买体力丹",6,30,},
        [7] = {1,"商店购买体力丹",7,30,},
        [8] = {1,"商店购买体力丹",8,50,},
        [9] = {1,"商店购买体力丹",9,50,},
        [10] = {1,"商店购买体力丹",10,50,},
        [11] = {1,"商店购买体力丹",11,80,},
        [12] = {1,"商店购买体力丹",12,80,},
        [13] = {1,"商店购买体力丹",13,80,},
        [14] = {1,"商店购买体力丹",14,80,},
        [15] = {1,"商店购买体力丹",15,80,},
        [16] = {1,"商店购买体力丹",16,80,},
        [17] = {1,"商店购买体力丹",17,100,},
        [18] = {1,"商店购买体力丹",18,100,},
        [19] = {1,"商店购买体力丹",19,100,},
        [20] = {1,"商店购买体力丹",20,100,},
        [21] = {1,"商店购买体力丹",21,100,},
        [22] = {1,"商店购买体力丹",22,100,},
        [23] = {1,"商店购买体力丹",23,150,},
        [24] = {1,"商店购买体力丹",24,150,},
        [25] = {2,"商店购买精力丹",1,20,},
        [26] = {2,"商店购买精力丹",2,20,},
        [27] = {2,"商店购买精力丹",3,20,},
        [28] = {2,"商店购买精力丹",4,30,},
        [29] = {2,"商店购买精力丹",5,30,},
        [30] = {2,"商店购买精力丹",6,30,},
        [31] = {2,"商店购买精力丹",7,30,},
        [32] = {2,"商店购买精力丹",8,50,},
        [33] = {2,"商店购买精力丹",9,50,},
        [34] = {2,"商店购买精力丹",10,50,},
        [35] = {2,"商店购买精力丹",11,80,},
        [36] = {2,"商店购买精力丹",12,80,},
        [37] = {2,"商店购买精力丹",13,80,},
        [38] = {2,"商店购买精力丹",14,80,},
        [39] = {2,"商店购买精力丹",15,80,},
        [40] = {2,"商店购买精力丹",16,80,},
        [41] = {2,"商店购买精力丹",17,100,},
        [42] = {2,"商店购买精力丹",18,100,},
        [43] = {2,"商店购买精力丹",19,100,},
        [44] = {2,"商店购买精力丹",20,100,},
        [45] = {2,"商店购买精力丹",21,100,},
        [46] = {2,"商店购买精力丹",22,100,},
        [47] = {2,"商店购买精力丹",23,150,},
        [48] = {2,"商店购买精力丹",24,150,},
        [49] = {100,"主线副本重置",1,20,},
        [50] = {100,"主线副本重置",2,30,},
        [51] = {100,"主线副本重置",3,50,},
        [52] = {100,"主线副本重置",4,50,},
        [53] = {100,"主线副本重置",5,100,},
        [54] = {100,"主线副本重置",6,100,},
        [55] = {10001,"竞技场购买挑战次数",1,20,},
        [56] = {10001,"竞技场购买挑战次数",2,20,},
        [57] = {10001,"竞技场购买挑战次数",3,40,},
        [58] = {10001,"竞技场购买挑战次数",4,40,},
        [59] = {10001,"竞技场购买挑战次数",5,40,},
        [60] = {10001,"竞技场购买挑战次数",6,80,},
        [61] = {10001,"竞技场购买挑战次数",7,80,},
        [62] = {10001,"竞技场购买挑战次数",8,80,},
        [63] = {10001,"竞技场购买挑战次数",9,80,},
        [64] = {10001,"竞技场购买挑战次数",10,100,},
        [65] = {10001,"竞技场购买挑战次数",11,100,},
        [66] = {10001,"竞技场购买挑战次数",12,100,},
        [67] = {10001,"竞技场购买挑战次数",13,100,},
        [68] = {10001,"竞技场购买挑战次数",14,100,},
        [69] = {10001,"竞技场购买挑战次数",15,150,},
        [70] = {10001,"竞技场购买挑战次数",16,150,},
        [71] = {10001,"竞技场购买挑战次数",17,150,},
        [72] = {10001,"竞技场购买挑战次数",18,150,},
        [73] = {10001,"竞技场购买挑战次数",19,150,},
        [74] = {10001,"竞技场购买挑战次数",20,150,},
        [75] = {10002,"军团付费援助次数",1,10,},
        [76] = {10002,"军团付费援助次数",2,10,},
        [77] = {10002,"军团付费援助次数",3,10,},
        [78] = {10002,"军团付费援助次数",4,10,},
        [79] = {10002,"军团付费援助次数",5,10,},
        [80] = {10002,"军团付费援助次数",6,10,},
        [81] = {10002,"军团付费援助次数",7,10,},
        [82] = {10002,"军团付费援助次数",8,10,},
        [83] = {10002,"军团付费援助次数",9,10,},
        [84] = {10002,"军团付费援助次数",10,10,},
        [85] = {10002,"军团付费援助次数",11,10,},
        [86] = {10002,"军团付费援助次数",12,10,},
        [87] = {10002,"军团付费援助次数",13,10,},
        [88] = {10002,"军团付费援助次数",14,10,},
        [89] = {10002,"军团付费援助次数",15,10,},
        [90] = {10002,"军团付费援助次数",16,10,},
        [91] = {10002,"军团付费援助次数",17,10,},
        [92] = {10002,"军团付费援助次数",18,10,},
        [93] = {10002,"军团付费援助次数",19,10,},
        [94] = {10002,"军团付费援助次数",20,10,},
        [95] = {3,"商店购买南蛮令",1,5,},
        [96] = {3,"商店购买南蛮令",2,5,},
        [97] = {3,"商店购买南蛮令",3,5,},
        [98] = {3,"商店购买南蛮令",4,10,},
        [99] = {3,"商店购买南蛮令",5,10,},
        [100] = {3,"商店购买南蛮令",6,10,},
        [101] = {3,"商店购买南蛮令",7,10,},
        [102] = {3,"商店购买南蛮令",8,10,},
        [103] = {3,"商店购买南蛮令",9,20,},
        [104] = {3,"商店购买南蛮令",10,20,},
        [105] = {3,"商店购买南蛮令",11,20,},
        [106] = {3,"商店购买南蛮令",12,20,},
        [107] = {3,"商店购买南蛮令",13,20,},
        [108] = {3,"商店购买南蛮令",14,30,},
        [109] = {3,"商店购买南蛮令",15,30,},
        [110] = {3,"商店购买南蛮令",16,30,},
        [111] = {3,"商店购买南蛮令",17,30,},
        [112] = {3,"商店购买南蛮令",18,30,},
        [113] = {3,"商店购买南蛮令",19,30,},
        [114] = {3,"商店购买南蛮令",20,30,},
        [115] = {3,"商店购买南蛮令",21,40,},
        [116] = {3,"商店购买南蛮令",22,40,},
        [117] = {3,"商店购买南蛮令",23,40,},
        [118] = {3,"商店购买南蛮令",24,40,},
        [119] = {3,"商店购买南蛮令",25,40,},
        [120] = {3,"商店购买南蛮令",26,40,},
        [121] = {3,"商店购买南蛮令",27,40,},
        [122] = {3,"商店购买南蛮令",28,40,},
        [123] = {3,"商店购买南蛮令",29,40,},
        [124] = {3,"商店购买南蛮令",30,40,},
        [125] = {3,"商店购买南蛮令",31,50,},
        [126] = {3,"商店购买南蛮令",32,50,},
        [127] = {3,"商店购买南蛮令",33,50,},
        [128] = {3,"商店购买南蛮令",34,50,},
        [129] = {3,"商店购买南蛮令",35,50,},
        [130] = {3,"商店购买南蛮令",36,50,},
        [131] = {3,"商店购买南蛮令",37,50,},
        [132] = {3,"商店购买南蛮令",38,50,},
        [133] = {3,"商店购买南蛮令",39,50,},
        [134] = {3,"商店购买南蛮令",40,50,},
        [135] = {4,"商店购买粮草令",1,20,},
        [136] = {4,"商店购买粮草令",2,20,},
        [137] = {4,"商店购买粮草令",3,40,},
        [138] = {4,"商店购买粮草令",4,40,},
        [139] = {4,"商店购买粮草令",5,80,},
        [140] = {4,"商店购买粮草令",6,80,},
        [141] = {4,"商店购买粮草令",7,100,},
        [142] = {4,"商店购买粮草令",8,100,},
        [143] = {4,"商店购买粮草令",9,100,},
        [144] = {4,"商店购买粮草令",10,100,},
        [145] = {4,"商店购买粮草令",11,200,},
        [146] = {4,"商店购买粮草令",12,200,},
        [147] = {4,"商店购买粮草令",13,200,},
        [148] = {4,"商店购买粮草令",14,200,},
        [149] = {4,"商店购买粮草令",15,200,},
        [150] = {4,"商店购买粮草令",16,200,},
        [151] = {4,"商店购买粮草令",17,200,},
        [152] = {4,"商店购买粮草令",18,200,},
        [153] = {4,"商店购买粮草令",19,200,},
        [154] = {4,"商店购买粮草令",20,200,},
        [155] = {4,"商店购买粮草令",21,200,},
        [156] = {4,"商店购买粮草令",22,200,},
        [157] = {4,"商店购买粮草令",23,200,},
        [158] = {4,"商店购买粮草令",24,200,},
        [159] = {10003,"金将招募",1,500,},
        [160] = {10003,"金将招募",2,500,},
        [161] = {10003,"金将招募",3,500,},
        [162] = {10003,"金将招募",4,500,},
        [163] = {10003,"金将招募",5,500,},
    }
}

-- index
local __index_id_time = {
    ["10001_1"] = 55,
    ["10001_10"] = 64,
    ["10001_11"] = 65,
    ["10001_12"] = 66,
    ["10001_13"] = 67,
    ["10001_14"] = 68,
    ["10001_15"] = 69,
    ["10001_16"] = 70,
    ["10001_17"] = 71,
    ["10001_18"] = 72,
    ["10001_19"] = 73,
    ["10001_2"] = 56,
    ["10001_20"] = 74,
    ["10001_3"] = 57,
    ["10001_4"] = 58,
    ["10001_5"] = 59,
    ["10001_6"] = 60,
    ["10001_7"] = 61,
    ["10001_8"] = 62,
    ["10001_9"] = 63,
    ["10002_1"] = 75,
    ["10002_10"] = 84,
    ["10002_11"] = 85,
    ["10002_12"] = 86,
    ["10002_13"] = 87,
    ["10002_14"] = 88,
    ["10002_15"] = 89,
    ["10002_16"] = 90,
    ["10002_17"] = 91,
    ["10002_18"] = 92,
    ["10002_19"] = 93,
    ["10002_2"] = 76,
    ["10002_20"] = 94,
    ["10002_3"] = 77,
    ["10002_4"] = 78,
    ["10002_5"] = 79,
    ["10002_6"] = 80,
    ["10002_7"] = 81,
    ["10002_8"] = 82,
    ["10002_9"] = 83,
    ["10003_1"] = 159,
    ["10003_2"] = 160,
    ["10003_3"] = 161,
    ["10003_4"] = 162,
    ["10003_5"] = 163,
    ["100_1"] = 49,
    ["100_2"] = 50,
    ["100_3"] = 51,
    ["100_4"] = 52,
    ["100_5"] = 53,
    ["100_6"] = 54,
    ["1_1"] = 1,
    ["1_10"] = 10,
    ["1_11"] = 11,
    ["1_12"] = 12,
    ["1_13"] = 13,
    ["1_14"] = 14,
    ["1_15"] = 15,
    ["1_16"] = 16,
    ["1_17"] = 17,
    ["1_18"] = 18,
    ["1_19"] = 19,
    ["1_2"] = 2,
    ["1_20"] = 20,
    ["1_21"] = 21,
    ["1_22"] = 22,
    ["1_23"] = 23,
    ["1_24"] = 24,
    ["1_3"] = 3,
    ["1_4"] = 4,
    ["1_5"] = 5,
    ["1_6"] = 6,
    ["1_7"] = 7,
    ["1_8"] = 8,
    ["1_9"] = 9,
    ["2_1"] = 25,
    ["2_10"] = 34,
    ["2_11"] = 35,
    ["2_12"] = 36,
    ["2_13"] = 37,
    ["2_14"] = 38,
    ["2_15"] = 39,
    ["2_16"] = 40,
    ["2_17"] = 41,
    ["2_18"] = 42,
    ["2_19"] = 43,
    ["2_2"] = 26,
    ["2_20"] = 44,
    ["2_21"] = 45,
    ["2_22"] = 46,
    ["2_23"] = 47,
    ["2_24"] = 48,
    ["2_3"] = 27,
    ["2_4"] = 28,
    ["2_5"] = 29,
    ["2_6"] = 30,
    ["2_7"] = 31,
    ["2_8"] = 32,
    ["2_9"] = 33,
    ["3_1"] = 95,
    ["3_10"] = 104,
    ["3_11"] = 105,
    ["3_12"] = 106,
    ["3_13"] = 107,
    ["3_14"] = 108,
    ["3_15"] = 109,
    ["3_16"] = 110,
    ["3_17"] = 111,
    ["3_18"] = 112,
    ["3_19"] = 113,
    ["3_2"] = 96,
    ["3_20"] = 114,
    ["3_21"] = 115,
    ["3_22"] = 116,
    ["3_23"] = 117,
    ["3_24"] = 118,
    ["3_25"] = 119,
    ["3_26"] = 120,
    ["3_27"] = 121,
    ["3_28"] = 122,
    ["3_29"] = 123,
    ["3_3"] = 97,
    ["3_30"] = 124,
    ["3_31"] = 125,
    ["3_32"] = 126,
    ["3_33"] = 127,
    ["3_34"] = 128,
    ["3_35"] = 129,
    ["3_36"] = 130,
    ["3_37"] = 131,
    ["3_38"] = 132,
    ["3_39"] = 133,
    ["3_4"] = 98,
    ["3_40"] = 134,
    ["3_5"] = 99,
    ["3_6"] = 100,
    ["3_7"] = 101,
    ["3_8"] = 102,
    ["3_9"] = 103,
    ["4_1"] = 135,
    ["4_10"] = 144,
    ["4_11"] = 145,
    ["4_12"] = 146,
    ["4_13"] = 147,
    ["4_14"] = 148,
    ["4_15"] = 149,
    ["4_16"] = 150,
    ["4_17"] = 151,
    ["4_18"] = 152,
    ["4_19"] = 153,
    ["4_2"] = 136,
    ["4_20"] = 154,
    ["4_21"] = 155,
    ["4_22"] = 156,
    ["4_23"] = 157,
    ["4_24"] = 158,
    ["4_3"] = 137,
    ["4_4"] = 138,
    ["4_5"] = 139,
    ["4_6"] = 140,
    ["4_7"] = 141,
    ["4_8"] = 142,
    ["4_9"] = 143,

}

-- metatable
local mt = { 
    __index = function(t, k) 
        assert(__key_map[k], "cannot find " .. k .. " in price")
        return t._raw[__key_map[k]]
    end
}

-- 
function price.length()
    return #price._data
end

-- 
function price.hasKey(k)
    if __key_map[k] == nil then
        return false
    else
        return true
    end
end

--
function price.indexOf(index)
    if index == nil or not price._data[index] then
        return nil
    end

    return setmetatable({_raw = price._data[index]}, mt)
end

--
function price.get(id,time)
    
    local k = id .. '_' .. time
    return price.indexOf(__index_id_time[k])
        
end

--
function price.set(id,time, key, value)
    local record = price.get(id,time)
    if record then
        local keyIndex = __key_map[key]
        if keyIndex then
            record._raw[keyIndex] = value
        end
    end
end

--
function price.index()
    return __index_id_time
end

return price